{"version":3,"sources":["components/App/logo.svg","services/Api.js","services/hackerNewsApi.js","store/story/actions.js","store/story/selectors.js","utils/getSiteHostname.js","utils/getArticleLink.js","components/ListItem/styles.js","components/ListItem/index.js","components/List/styles.js","components/List/index.js","styles/palette.js","components/Loader/styles.js","components/Loader/index.js","components/App/styles.js","styles/mediaQueries.js","components/App/App.js","components/App/index.js","store/app/actions.js","store/app/reducer.js","store/story/reducer.js","store/reducer.js","store/middleware.js","store/index.js","styles/globals.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","API_ROOT","process","URL","TIMEOUT","HEADERS","Content-Type","Accept","client","ApiService","_ref","_ref$baseURL","baseURL","_ref$timeout","timeout","_ref$headers","headers","auth","Object","classCallCheck","this","axios","create","interceptors","response","use","handleSuccess","handleError","error","Promise","reject","path","get","then","data","payload","post","put","patch","delete","hackerNewsApi","getTopStoryIds","concat","getStory","id","getStoriesByPage","ids","page","_getPageSlice","limit","arguments","length","undefined","begin","end","getPageSlice","storyPromises","items","slice","getPageValues","map","all","NS","actionTypes","FETCH_STORY_IDS_REQUEST","FETCH_STORY_IDS_SUCCESS","FETCH_STORY_IDS_FAILURE","FETCH_STORIES_REQUEST","FETCH_STORIES_SUCCESS","FETCH_STORIES_FAILURE","action","type","actions","fetchStoryIds","dispatch","storyIds","fetchStories","catch","err","stories","hasMoreStoriesSelector","createSelector","state","story","getSiteHostname","siteUrl","hostname","includes","url","parse","split","HN_ROOT","HN_ITEM","HN_USER","getArticleLink","commentUrl","Item","styled","li","_templateObject","theme","border","Title","h3","_templateObject2","_ref2","text","Host","span","_templateObject3","_ref3","textSecondary","ExernalLink","a","_templateObject4","_ref4","Description","div","_templateObject5","_ref5","CommentLink","_templateObject6","_ref6","_ref7","timeago","Timeago","LINK_REL","ListItem","by","_ref$kids","kids","score","title","time","site","link","userUrl","react_default","createElement","href","rel","target","format","Date","toISOString","ListWrapper","ul","styles_templateObject","backgroundSecondary","List","components_ListItem","assign","key","colorsDark","background","blink","keyframes","Loader_styles_templateObject","Animation","styles_templateObject2","Loader","Wrapper","App_styles_templateObject","h1","App_styles_templateObject2","App","_this$props","_this","props","isFetching","fetchStoriesFirstPage","_this$props2","hasMoreStories","styled_components_browser_esm","styles_Title","lib_default","dataLength","next","hasMore","loader","components_Loader","style","height","overflow","components_List","Component","connect","SET_THEME","app","objectSpread","toConsumableArray","rootReducer","combineReducers","middlewareList","push","thunk","middleware","compose","applyMiddleware","apply","configureStore","initialState","createStore","reducer","setGlobalStyles","injectGlobal","globals_templateObject","Boolean","window","location","match","store","ReactDOM","render","es","components_App","document","getElementById","renderApp","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.60b97202.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","import axios from 'axios';\r\n\r\n// Default API will be your root\r\nconst API_ROOT = process.env.URL || 'http://localhost:3000/';\r\nconst TIMEOUT = 20000;\r\nconst HEADERS = {\r\n  'Content-Type': 'application/json',\r\n  Accept: 'application/json',\r\n};\r\n\r\nclass ApiService {\r\n  constructor({ baseURL = API_ROOT, timeout = TIMEOUT, headers = HEADERS, auth }) {\r\n    const client = axios.create({\r\n      baseURL,\r\n      timeout,\r\n      headers,\r\n      auth,\r\n    });\r\n\r\n    client.interceptors.response.use(this.handleSuccess, this.handleError);\r\n    this.client = client;\r\n  }\r\n\r\n  handleSuccess(response) {\r\n    return response;\r\n  }\r\n\r\n  handleError(error) {\r\n    return Promise.reject(error);\r\n  }\r\n\r\n  get(path) {\r\n    return this.client.get(path).then(response => response.data);\r\n  }\r\n\r\n  post(path, payload) {\r\n    return this.client.post(path, payload).then(response => response.data);\r\n  }\r\n\r\n  put(path, payload) {\r\n    return this.client.put(path, payload).then(response => response.data);\r\n  }\r\n\r\n  patch(path, payload) {\r\n    return this.client.patch(path, payload).then(response => response.data);\r\n  }\r\n\r\n  delete(path) {\r\n    return this.client.delete(path).then(response => response.data);\r\n  }\r\n}\r\n\r\nexport default ApiService;","import ApiService from './Api';\r\n\r\nconst JSON_QUERY = '.json?print=pretty';\r\nconst BASE_URL = 'https://hacker-news.firebaseio.com/v0';\r\nconst client = new ApiService({ baseURL: BASE_URL });\r\n\r\nconst hackerNewsApi = {};\r\n\r\nconst PAGE_LIMIT = 20;\r\nconst getPageSlice = (limit, page = 0) => ({ begin: page * limit, end: (page + 1) * limit });\r\nconst getPageValues = ({ begin, end, items }) => items.slice(begin, end);\r\n\r\nhackerNewsApi.getTopStoryIds = () => client.get(`/topstories${JSON_QUERY}`);\r\nhackerNewsApi.getStory = id => client.get(`/item/${id}${JSON_QUERY}`);\r\nhackerNewsApi.getStoriesByPage = (ids, page) => {\r\n  const { begin, end } = getPageSlice(PAGE_LIMIT, page);\r\n  const activeIds = getPageValues({ begin, end, items: ids });\r\n  const storyPromises = activeIds.map(id => hackerNewsApi.getStory(id));\r\n  return Promise.all(storyPromises);\r\n};\r\n\r\nexport default hackerNewsApi;","import hackerNewsApi from 'services/hackerNewsApi';\r\n\r\nconst NS = '@hnClone/story';\r\n\r\nexport const actionTypes = {\r\n\tFETCH_STORY_IDS_REQUEST: `${NS}/FETCH_STORY_IDS_REQUEST`,\r\n\tFETCH_STORY_IDS_SUCCESS: `${NS}/FETCH_STORY_IDS_SUCCESS`,\r\n\tFETCH_STORY_IDS_FAILURE: `${NS}/FETCH_STORY_IDS_FAILURE`,\r\n\tFETCH_STORIES_REQUEST: `${NS}/FETCH_STORIES_REQUEST`,\r\n\tFETCH_STORIES_SUCCESS: `${NS}/FETCH_STORIES_SUCCESS`,\r\n\tFETCH_STORIES_FAILURE: `${NS}/FETCH_STORIES_FAILURE`,\r\n};\r\n\r\nconst action = (type, payload) => ({ type, payload });\r\n\r\nconst actions = {\r\n\tfetchStoryIds: (payload = {}) => {\r\n\t\treturn dispatch => {\r\n\t\t\tdispatch(action(actionTypes.FETCH_STORY_IDS_REQUEST, payload));\r\n\r\n\t\t\treturn hackerNewsApi\r\n\t\t\t\t.getTopStoryIds()\r\n\t\t\t\t.then(storyIds => {\r\n\t\t\t\t\tdispatch(action(actionTypes.FETCH_STORY_IDS_SUCCESS, { storyIds }));\r\n\t\t\t\t\tdispatch(actions.fetchStories({ storyIds, page: 0 }));\r\n\t\t\t\t\treturn storyIds;\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => dispatch(action(actionTypes.FETCH_STORY_IDS_FAILURE, err )));\r\n\t\t};\r\n\t},\r\n\tfetchStories: (payload = {}) => {\r\n\t\treturn dispatch  => {\r\n\t\t\tconst { storyIds, page } = payload;\r\n\r\n\t\t\tdispatch(action(actionTypes.FETCH_STORIES_REQUEST, payload));\r\n\r\n\t\t\treturn hackerNewsApi\r\n\t\t\t\t.getStoriesByPage(storyIds, page)\r\n\t\t\t\t.then(stories => dispatch(action(actionTypes.FETCH_STORIES_SUCCESS, { stories })))\r\n\t\t\t\t.catch(err => dispatch(action(actionTypes.FETCH_STORY_IDS_FAILURE, err)));\r\n\t\t};\r\n\t},\r\n};\r\n\r\nexport default actions;","import { createSelector } from 'reselect';\r\n\r\nconst storyIdsSelector = state => state.story.storyIds;\r\nconst storiesSelector = state => state.story.stories;\r\n\r\nexport const hasMoreStoriesSelector = createSelector(\r\n  storyIdsSelector,\r\n  storiesSelector,\r\n  (storyIds, stories) => storyIds.length > stories.length,\r\n);","import url from 'url';\r\n\r\nconst getSiteHostname = siteUrl => {\r\n\tlet hostname = '';\r\n\r\n\tif (siteUrl) {\r\n\t\tif (!siteUrl.includes('//')) {\r\n\t\t\tsiteUrl = `http://${siteUrl}`;\r\n\t\t}\r\n\r\n\t\thostname = url.parse(siteUrl).hostname;\r\n\t}\r\n\r\n\tif (hostname.includes('www.')) {\r\n\t\thostname = hostname.split('www.')[1];\r\n\t}\r\n\r\n\treturn hostname;\r\n};\r\n\r\nexport default getSiteHostname;","const HN_ROOT = 'https://news.ycombinator.com';\r\nexport const HN_ITEM = `${HN_ROOT}/item?id=`;\r\nexport const HN_USER = `${HN_ROOT}/user?id=`;\r\n\r\nconst getArticleLink = ({ url, id }) => {\r\n\tconst commentUrl = `${HN_ITEM}${id}`;\r\n\tconst link = !!url ? url : commentUrl;\r\n\r\n\treturn link;\r\n};\r\n\r\nexport default getArticleLink;","import styled from 'styled-components';\r\n\r\nexport const Item = styled.li`\r\n  border-bottom: 1px solid ${({ theme }) => theme.border};\r\n  padding: 14px 24px;\r\n\r\n  &:last-child {\r\n    border-bottom: none;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h3`\r\n  color: ${({ theme }) => theme.text};\r\n  margin-top: 0;\r\n  margin-bottom: 6px;\r\n  font-weight: 400;\r\n  font-size: 16px;\r\n  letter-spacing: 0.4px;\r\n`;\r\n\r\nexport const Host = styled.span`\r\n  color: ${({ theme }) => theme.textSecondary};\r\n  font-size: 12px;\r\n`;\r\n\r\nexport const ExernalLink = styled.a`\r\n  color: ${({ theme }) => theme.text};\r\n  display: flex;\r\n  width: 100%;\r\n  height: 100%;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  text-decoration: none;\r\n`;\r\n\r\nexport const Description = styled.div`\r\n  font-size: 14px;\r\n  color: ${({ theme }) => theme.textSecondary};\r\n`;\r\n\r\nexport const CommentLink = styled.a`\r\n  color: ${({ theme }) => theme.textSecondary};\r\n\r\n  &:visited {\r\n    color: ${({ theme }) => theme.textSecondary};\r\n  }\r\n`;","import React from 'react';\r\nimport Timeago from 'timeago.js';\r\nimport getSiteHostname from 'utils/getSiteHostname';\r\nimport getArticleLink, { HN_USER, HN_ITEM } from 'utils/getArticleLink';\r\n\r\nimport { Item, Title, Host, ExernalLink, Description, CommentLink } from './styles';\r\n\r\nconst timeago = Timeago();\r\nconst LINK_REL = 'nofollow noreferrer noopener';\r\n\r\nconst ListItem = ({ by, kids = [], score, url, title, id, type, time }) => {\r\n\tconst site = getSiteHostname(url) || 'new.ycombinator.com';\r\n\tconst link = getArticleLink({ url, id });\r\n\tconst commentUrl = `${HN_ITEM}${id}`;\r\n\tconst userUrl = `${HN_USER}${by}`;\r\n\r\n\treturn (\r\n\t\t<Item>\r\n\t\t\t<ExernalLink href={link} rel={LINK_REL} target=\"_blank\">\r\n\t\t\t\t<Title>\r\n\t\t\t\t\t{ title } <Host>({ site })</Host>\r\n\t\t\t\t</Title>\r\n\t\t\t</ExernalLink>\r\n\t\t\t<Description>\r\n\t\t\t\t{score} points by{' '}\r\n\t\t\t\t<CommentLink href={userUrl} rel={LINK_REL} target=\"_blank\">\r\n\t\t\t\t\t{by}\r\n\t\t\t\t</CommentLink>\r\n\t\t\t\t\t{timeago.format(new Date(time * 1000).toISOString())}\t\t\t\t\t\r\n\t\t\t\t\t{' | '}\r\n\t\t\t\t<CommentLink href={commentUrl} rel={LINK_REL} target=\"_blank\">\r\n\t\t\t\t\t{kids.length} Comments\r\n\t\t\t\t</CommentLink>\r\n\t\t\t</Description>\r\n\t\t</Item>\r\n\t);\r\n};\r\n\r\nexport default ListItem;","import styled from 'styled-components';\r\n\r\nexport const ListWrapper = styled.ul`\r\n\tbackground-color: ${({theme}) => theme.backgroundSecondary};\r\n\tborder-radius: 4px;\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n\tmargin-bottom: 20px;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n`;","import React from 'react';\r\nimport ListItem from 'components/ListItem';\r\nimport { ListWrapper } from './styles';\r\n\r\nconst List = ({ stories }) => (\r\n\t<ListWrapper>\r\n\t\t{stories.map(story => \r\n\t\t<ListItem key={story.id} {...story} />\r\n\t\t)}\r\n\t</ListWrapper>\r\n);\r\n\r\nexport default List;","export const colorsDark = {\r\n  background: '#272727',\r\n  backgroundSecondary: '#393C3E',\r\n  text: '#bfbebe',\r\n  textSecondary: '#848886',\r\n  border: '#272727',\r\n};\r\n\r\nexport const colorsLight = {\r\n  background: '#EAEAEA',\r\n  backgroundSecondary: '#F8F8F8',\r\n  text: '#848886',\r\n  textSecondary: '#aaaaaa',\r\n  border: '#EAEAEA',\r\n};\r\n","import styled, { keyframes } from 'styled-components';\r\n\r\nconst blink = keyframes`\r\n  /**\r\n  * At the start of the animation the dot\r\n  * has an opacity of .2\r\n  */\r\n  0% {\r\n    opacity: .2;\r\n  }\r\n  /**\r\n  * At 20% the dot is fully visible and\r\n  * then fades out slowly\r\n  */\r\n  20% {\r\n    opacity: 1;\r\n  }\r\n  /**\r\n  * Until it reaches an opacity of .2 and\r\n  * the animation can start again\r\n  */\r\n  100% {\r\n    opacity: .2;\r\n  }\r\n`;\r\n\r\nexport const Animation = styled.div`\r\n  text-align: center;\r\n\r\n  span {\r\n    color: ${({ theme }) => theme.textSecondary};\r\n    display: inline-block;\r\n    margin-left: 4px;\r\n    margin-right: 4px;\r\n    font-size: 80px;\r\n    line-height: 0.1;\r\n\r\n    /**\r\n    * Use the blink animation, which is defined above\r\n    */\r\n    animation-name: ${blink};\r\n    /**\r\n    * The total time of animation\r\n    */\r\n    animation-duration: 1s;\r\n    /**\r\n    * It will repeat itself forever\r\n    */\r\n    animation-iteration-count: infinite;\r\n    /**\r\n    * This makes sure that the starting style (opacity: .2)\r\n    * of the animation is applied before the animation starts.\r\n    * Otherwise we would see a short flash or would have\r\n    * to set the default styling of the dots to the same\r\n    * as the animation. Same applies for the ending styles.\r\n    */\r\n    animation-fill-mode: both;\r\n  }\r\n\r\n  span:nth-child(2) {\r\n    animation-delay: 0.2s;\r\n  }\r\n  span:nth-child(3) {\r\n    animation-delay: 0.4s;\r\n  }\r\n`;\r\n","import React from 'react';\r\n\r\nimport { Animation } from './styles';\r\n\r\nconst Loader = () => (\r\n  <Animation>\r\n    <span>.</span>\r\n    <span>.</span>\r\n    <span>.</span>\r\n  </Animation>\r\n);\r\n\r\nexport default Loader;","import styled from 'styled-components';\r\nimport { tablet } from 'styles/mediaQueries';\r\n\r\nexport const Wrapper = styled.div`\r\n  width: 85%;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  padding-bottom: 200px;\r\n\r\n  ${tablet} {\r\n    width: 96%;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  color: ${({ theme }) => theme.textSecondary};\r\n  font-size: 20px;\r\n  font-weight: 300;\r\n`;","export const mobile = '@media only screeen and (max-width: 480px)';\r\nexport const tablet = '@media only screeen and (max-width: 768px)';\r\nexport const monitor = '@media only screeen and (min-width: 1400px)';","import React, { Component } from 'react';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport logo from './logo.svg';\r\nimport { ThemeProvider } from 'styled-components';\r\nimport List from 'components/List';\r\nimport { colorsDark, colorsLight } from 'styles/palette';\r\nimport Loader from 'components/Loader';\r\n\r\nimport { Wrapper, Title } from './styles';\r\n\r\nclass App extends Component {\r\n  componentDidMount() {\r\n    this.props.fetchStoriesFirstPage();\r\n  }\r\n\r\n  fetchStories = () => {\r\n    const { storyIds, page, fetchStories, isFetching } = this.props;\r\n    if (!isFetching) {\r\n      fetchStories({storyIds, page});\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { stories, hasMoreStories } = this.props;\r\n    return (\r\n      <ThemeProvider theme={colorsDark}>\r\n        <div>\r\n          <Wrapper>\r\n            <Title>// Hacker News Reader</Title>\r\n            <InfiniteScroll\r\n              dataLength={stories.length}\r\n              next={this.fetchStories}\r\n              hasMore={hasMoreStories}\r\n              loader={<Loader />}\r\n              style={{\r\n                height: '100%',\r\n                overflow: 'visible',\r\n              }}\r\n            >\r\n              <List stories={stories} />\r\n            </InfiniteScroll>\r\n          </Wrapper>\r\n        </div>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import { connect } from 'react-redux';\r\nimport actions from 'store/story/actions';\r\nimport { hasMoreStoriesSelector } from 'store/story/selectors';\r\nimport App from './App';\r\n\r\nconst mapStateToProps = state => ({\r\n  stories: state.story.stories,\r\n  page: state.story.page,\r\n  storyIds: state.story.storyIds,\r\n  isFetching: state.story.isFetching,\r\n  hasMoreStories: hasMoreStoriesSelector(state),\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchStoriesFirstPage: () => dispatch(actions.fetchStoryIds()),\r\n  fetchStories: ({storyIds, page}) => dispatch(actions.fetchStories({ storyIds, page })),\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(App);","const NS = '@hnReader/app';\r\n\r\nexport const actionTypes = {\r\n\tSET_THEME: `${NS}/SET_THEME`,\r\n};\r\n\r\nconst actions = {\r\n\tsetTheme: (payload = {}) => ({type: actionTypes.SET_THEME, payload}),\r\n};\r\n\r\nexport default actions;","import { actionTypes } from './actions';\r\n\r\nconst getInitialState = () => ({\r\n\ttheme: 'dark',\r\n});\r\n\r\nconst app = (state = getInitialState(), { type, payload }) => {\r\n\tswitch (type) {\r\n\t\tcase actionTypes.SET_THEME:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default app;","import { actionTypes } from './actions';\r\n\r\nconst getInitialState = () => ({\r\n\tstoryIds: [],\r\n\tstories: [],\r\n\tpage: 0,\r\n\tisFetching: false,\r\n\terror: '',\r\n});\r\n\r\nconst story = (state = getInitialState(), { type, payload }) => {\r\n\tswitch (type) {\r\n\t\tcase actionTypes.FETCH_STORY_IDS_REQUEST:\r\n\t\tcase actionTypes.FETCH_STORIES_REQUEST:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisFetching: true,\r\n\t\t\t};\r\n\t\tcase actionTypes.FETCH_STORY_IDS_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...payload,\r\n\t\t\t};\r\n\t\tcase actionTypes.FETCH_STORIES_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tstories: [...state.stories, ...payload.stories],\r\n\t\t\t\tpage: state.page + 1,\r\n\t\t\t\tisFetching: false,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default story;","import { combineReducers } from 'redux';\r\nimport app from './app/reducer';\r\nimport story from './story/reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n\tapp, \r\n\tstory,\r\n});\r\n\r\nexport default rootReducer;","import { applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { createLogger } from 'redux-logger';\r\n\r\nconst isProd = process.env.NODE_ENV === 'production';\r\nconst middlewareList = [];\r\n\r\nmiddlewareList.push(thunk);\r\nif(!isProd) {\r\n\tmiddlewareList.push(createLogger());\r\n}\r\n\r\nconst middleware = compose(applyMiddleware(...middlewareList));\r\n\r\nexport default middleware;","import { createStore } from 'redux';\r\nimport reducer from './reducer';\r\nimport middleware from './middleware';\r\n\r\nconst configureStore = initialState => {\r\n\tconst store = createStore(reducer, initialState, middleware);\r\n\treturn store;\r\n};\r\n\r\nexport default configureStore;","import { injectGlobal } from 'styled-components';\r\nimport { colorsDark } from './palette';\r\n\r\nconst setGlobalStyles = () =>\r\n  injectGlobal`\r\n    * {\r\n      box-sizing: border-box;\r\n    }\r\n\r\n    html, body {\r\n      font-family: 'Lato',Helvetica-Neue,Helvetica,Arial,sans-serif;\r\n      width: 100vw;\r\n      overflow-x: hidden;\r\n      margin: 0;\r\n      padding: 0;\r\n      background-color: ${colorsDark.background};\r\n    }\r\n\r\n    ul {\r\n      list-style: none;\r\n      padding: 0;\r\n    }\r\n\r\n    a {\r\n      text-decoration: none;\r\n\r\n      &:visited {\r\n        color: inherit;\r\n      }\r\n    }\r\n  `;\r\n\r\nexport default setGlobalStyles;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from 'components/App';\r\nimport { Provider } from 'react-redux';\r\nimport configureStore from 'store';\r\nimport setGlobalStyles from 'styles/globals';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nsetGlobalStyles();\r\n\r\nconst renderApp = () => {\r\n\tconst initialState = {};\r\n\tconst store = configureStore(initialState);\r\n\r\n\tstore.dispatch({ type: '@hnReader/@@INIT' });\r\n\r\n\tReactDOM.render(<Provider store={store}>\r\n\t\t<App />\r\n\t\t</Provider>,\r\n\tdocument.getElementById('root')\r\n\t);\r\n};\r\n\r\nrenderApp();\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}